# Fetching Data

Nuxt 3 provides a lot of new options for [fetching data from an API](https://v3.nuxtjs.org/docs/usage/data-fetching). Most of the new options involve compsoable methods provided by Nuxt 3.

## asyncData

Nuxt 3 provides 2 new composables for setting up async data: `useAsyncData` and `useLazyAsyncData`. The difference is the `useLazyAsyncData` is non-blocking.

In Nuxt 2, you'd declare your `asyncData` in your component using a syntax similar to:

```vue
export default {
  async asyncData({ params, $http }) {
    const post = await $http.$get(`https://api.nuxtjs.dev/posts/${params.id}`)
    return { post }
  }
} 
```

Within your methods and templates, you could use the `post` variable similar how you'd use any other piece of data provided by your component. With Nuxt 3, you'd declare the async data with the composable `useAsyncData()` in your `setup()` method or `<script setup>` tag:

```vue
<script setup>
  // Define params wherever, through `defineProps()`, `useRoute()`, etc.
  const { post } = await useAsyncData('post', () => `https://api.nuxtjs.dev/posts/${params.id}` )
</script>
```

You can now use the `post` variable inside if your Nuxt 3 template.

## useFetch

In Nuxt 2, Nuxt provided a `$fetch` plugin that you could reference in your component's methods. Nuxt 3 provides a `useFetch()` composable that is required to be used in the `setup()` method or the `<script setup>` section of your component.

::code-group

```vue [Nuxt 2]
async fetch() {
  this.mountains = await fetch(
    'https://api.nuxtjs.dev/mountains'
  ).then(res => res.json())
}
```vue

```vue [Nuxt 3]
<script setup>
  const { data:mountains, refresh } = useFetch('https://api.nuxtjs.dev/mountains');
</script>
```

::code-group

With Nuxt 3, you can decouple the `mountains` and `refresh` method from the composable and use them inside of your component later on.
